###############################################################################
#
# IAR ANSI C/C++ Compiler V7.70.1.11437/W32 for ARM       28/Jul/2018  08:01:57
# Copyright 1999-2016 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\app\signal\src\route.c
#    Command line =  
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\app\signal\src\route.c" -D LPLD_K60 -lCN
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\iar\FLASH\List"
#        -lB "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\FLASH\List" -o
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\iar\FLASH\Obj"
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=None --dlib_config "D:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\INC\c\DLib_Config_Normal.h" -I "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\app\" -I "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\CPU\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\common\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\LPLD\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\LPLD\HW\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\LPLD\DEV\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\uCOS-II\Ports\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\uCOS-II\Source\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\FatFs\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\FatFs\option\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\USB\common\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\USB\driver\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\USB\descriptor\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\USB\class\" -I
#        "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\..\..\..\lib\LPLD\FUNC\" -I
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\app\driver\inc\"
#        -I "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\app\driver\src\" -I
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\app\control\inc\"
#        -I "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\app\control\src\" -I
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\app\debug\inc\"
#        -I "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\app\debug\src\" -I
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\app\device\src\"
#        -I "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\app\device\inc\" -I
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\app\signal\inc\"
#        -I "D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\app\signal\src\" -I
#        "D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\app\system\" -Ol
#        -I "D:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\CMSIS\Include\" -D ARM_MATH_CM4
#    Locale       =  Chinese (Simplified)_China.936
#    List file    =  
#        D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\FLASH\List\route.lst
#    Object file  =  
#        D:\Freescale\信标\Beacon_C1
#        -NXP\project\Beacon_XBY\iar\FLASH\Obj\route.o
#
###############################################################################

D:\Freescale\信标\Beacon_C1 -NXP\project\Beacon_XBY\app\signal\src\route.c
      1          /*=============================================
      2              @file         route.c
      3              @brief        路径规划
      4              @programmer   XBY
      5          =============================================*/
      6          
      7          #include "route.h"
      8          

   \                                 In section .bss, align 1
      9          static int8 sc_horizon_flag;//无视野标志位
   \                     sc_horizon_flag:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
     10          static int8 sc_barrier_flag;//障碍标志位
   \                     sc_barrier_flag:
   \   00000000                      DS8 1
     11          
     12          /*===============================================================
     13          	@brief     路径规划
     14          	@function  路径规划函数集合
     15                  @note      可外部调用
     16          ==================================================================*/
     17          

   \                                 In section .text, align 2, keep-with-next
     18          void Route_Planning()
     19          {
   \                     Route_Planning: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     20          //    Ultra_Back();
     21              Car_Back();
   \   00000002   0x.... 0x....      BL       Car_Back
     22              Horizon_Off();
   \   00000006   0x.... 0x....      BL       Horizon_Off
     23              //Barrier_TELE_Avoid();
     24            
     25              if(sc_horizon_flag == 0)
   \   0000000A   0x....             LDR.N    R0,??DataTable4
   \   0000000C   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   00000010   0x2800             CMP      R0,#+0
   \   00000012   0xD101             BNE.N    ??Route_Planning_0
     26              {
     27                  Direction_Control();
   \   00000014   0x.... 0x....      BL       Direction_Control
     28              }
     29          }
   \                     ??Route_Planning_0: (+1)
   \   00000018   0xBD01             POP      {R0,PC}          ;; return
     30          
     31          /*===============================================================
     32          	@brief     无视野特殊情况综合判断处理
     33          	@function  分两种情况：1.纵向差比和小于0并且超声波测距大于一定距离
     34                                         2.图像面积很小即场外噪点或反光情况未被中值滤波滤掉
     35                             出现以上两种情况则完全相信超声波定向，并以之作为舵机输出
     36          	@note      以超声波判断为准
     37          ==================================================================*/
     38          

   \                                 In section .text, align 2, keep-with-next
     39          void Horizon_Off()
     40          {
   \                     Horizon_Off: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     41              static int8 sc_center_flag = 0;
     42              
     43              if(guc_switch_pin_val[0] == 0)
   \   00000002   0x....             LDR.N    R0,??DataTable4_1
   \   00000004   0x7800             LDRB     R0,[R0, #+0]
   \   00000006   0x2800             CMP      R0,#+0
   \   00000008   0xD122             BNE.N    ??Horizon_Off_0
     44              {
     45                  if(guc_car_run_flag == CAR_RUN)
   \   0000000A   0x....             LDR.N    R0,??DataTable4_2
   \   0000000C   0x7800             LDRB     R0,[R0, #+0]
   \   0000000E   0x2801             CMP      R0,#+1
   \   00000010   0xD11E             BNE.N    ??Horizon_Off_0
     46                  {
     47                      if(guc_find_image_flag == NOT_FOUND_IMAGE)
   \   00000012   0x....             LDR.N    R0,??DataTable4_3
   \   00000014   0x7800             LDRB     R0,[R0, #+0]
   \   00000016   0x2801             CMP      R0,#+1
   \   00000018   0xD115             BNE.N    ??Horizon_Off_1
     48                      {
     49                          if(guc_beacon_directional_x == LEFT)
   \   0000001A   0x....             LDR.N    R0,??DataTable4_4
   \   0000001C   0x7800             LDRB     R0,[R0, #+0]
   \   0000001E   0x2801             CMP      R0,#+1
   \   00000020   0xD103             BNE.N    ??Horizon_Off_2
     50                          {
     51                              Sevro_Output(75);
   \   00000022   0x204B             MOVS     R0,#+75
   \   00000024   0x.... 0x....      BL       Sevro_Output
   \   00000028   0xE007             B.N      ??Horizon_Off_3
     52                          }
     53                          else if(guc_beacon_directional_x == RIGHT)
   \                     ??Horizon_Off_2: (+1)
   \   0000002A   0x....             LDR.N    R0,??DataTable4_4
   \   0000002C   0x7800             LDRB     R0,[R0, #+0]
   \   0000002E   0x2802             CMP      R0,#+2
   \   00000030   0xD103             BNE.N    ??Horizon_Off_3
     54                          {
     55                              Sevro_Output(-75);
   \   00000032   0xF07F 0x004A      MVNS     R0,#+74
   \   00000036   0x.... 0x....      BL       Sevro_Output
     56                          }
     57                          Beep_On();
   \                     ??Horizon_Off_3: (+1)
   \   0000003A   0x.... 0x....      BL       Beep_On
     58                          sc_horizon_flag = 1;
   \   0000003E   0x2001             MOVS     R0,#+1
   \   00000040   0x....             LDR.N    R1,??DataTable4
   \   00000042   0x7008             STRB     R0,[R1, #+0]
   \   00000044   0xE004             B.N      ??Horizon_Off_0
     59                      }
     60                      else
     61                      {
     62                          //Direction_Control();
     63                          Beep_Off();
   \                     ??Horizon_Off_1: (+1)
   \   00000046   0x.... 0x....      BL       Beep_Off
     64                          sc_horizon_flag = 0;
   \   0000004A   0x2000             MOVS     R0,#+0
   \   0000004C   0x....             LDR.N    R1,??DataTable4
   \   0000004E   0x7008             STRB     R0,[R1, #+0]
     65                      }
     66                  }
     67              }
     68                
     69              if(guc_switch_pin_val[0] == 1)
   \                     ??Horizon_Off_0: (+1)
   \   00000050   0x....             LDR.N    R0,??DataTable4_1
   \   00000052   0x7800             LDRB     R0,[R0, #+0]
   \   00000054   0x2801             CMP      R0,#+1
   \   00000056   0xD132             BNE.N    ??Horizon_Off_4
     70              {
     71                  if(guc_car_run_flag == CAR_RUN)
   \   00000058   0x....             LDR.N    R0,??DataTable4_2
   \   0000005A   0x7800             LDRB     R0,[R0, #+0]
   \   0000005C   0x2801             CMP      R0,#+1
   \   0000005E   0xD12E             BNE.N    ??Horizon_Off_4
     72                  {
     73                      if(guc_find_image_flag == NOT_FOUND_IMAGE)
   \   00000060   0x....             LDR.N    R0,??DataTable4_3
   \   00000062   0x7800             LDRB     R0,[R0, #+0]
   \   00000064   0x2801             CMP      R0,#+1
   \   00000066   0xD125             BNE.N    ??Horizon_Off_5
     74                      {
     75                          if(guc_center_flag == LEFT)
   \   00000068   0x....             LDR.N    R0,??DataTable4_5
   \   0000006A   0x7800             LDRB     R0,[R0, #+0]
   \   0000006C   0x2801             CMP      R0,#+1
   \   0000006E   0xD103             BNE.N    ??Horizon_Off_6
     76                          {
     77                              Sevro_Output(75);
   \   00000070   0x204B             MOVS     R0,#+75
   \   00000072   0x.... 0x....      BL       Sevro_Output
   \   00000076   0xE007             B.N      ??Horizon_Off_7
     78                          }
     79                          else if(guc_center_flag == RIGHT)
   \                     ??Horizon_Off_6: (+1)
   \   00000078   0x....             LDR.N    R0,??DataTable4_5
   \   0000007A   0x7800             LDRB     R0,[R0, #+0]
   \   0000007C   0x2802             CMP      R0,#+2
   \   0000007E   0xD103             BNE.N    ??Horizon_Off_7
     80                          {
     81                              Sevro_Output(-75);
   \   00000080   0xF07F 0x004A      MVNS     R0,#+74
   \   00000084   0x.... 0x....      BL       Sevro_Output
     82                          }
     83                          if((guc_center_flag == 0) && (sc_center_flag == 0))
   \                     ??Horizon_Off_7: (+1)
   \   00000088   0x....             LDR.N    R0,??DataTable4_5
   \   0000008A   0x7800             LDRB     R0,[R0, #+0]
   \   0000008C   0x2800             CMP      R0,#+0
   \   0000008E   0xD10B             BNE.N    ??Horizon_Off_8
   \   00000090   0x....             LDR.N    R0,??DataTable4_6
   \   00000092   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   00000096   0x2800             CMP      R0,#+0
   \   00000098   0xD106             BNE.N    ??Horizon_Off_8
     84                          {
     85                              sc_center_flag = 1;
   \   0000009A   0x2001             MOVS     R0,#+1
   \   0000009C   0x....             LDR.N    R1,??DataTable4_6
   \   0000009E   0x7008             STRB     R0,[R1, #+0]
     86                              guc_center_flag = guc_beacon_directional_x;
   \   000000A0   0x....             LDR.N    R0,??DataTable4_4
   \   000000A2   0x7800             LDRB     R0,[R0, #+0]
   \   000000A4   0x....             LDR.N    R1,??DataTable4_5
   \   000000A6   0x7008             STRB     R0,[R1, #+0]
     87                          }
     88                          Beep_On();
   \                     ??Horizon_Off_8: (+1)
   \   000000A8   0x.... 0x....      BL       Beep_On
     89                          sc_horizon_flag = 1;
   \   000000AC   0x2001             MOVS     R0,#+1
   \   000000AE   0x....             LDR.N    R1,??DataTable4
   \   000000B0   0x7008             STRB     R0,[R1, #+0]
   \   000000B2   0xE004             B.N      ??Horizon_Off_4
     90                      }
     91                      else
     92                      {
     93                          //Direction_Control();
     94                          Beep_Off();
   \                     ??Horizon_Off_5: (+1)
   \   000000B4   0x.... 0x....      BL       Beep_Off
     95                          sc_horizon_flag = 0;
   \   000000B8   0x2000             MOVS     R0,#+0
   \   000000BA   0x....             LDR.N    R1,??DataTable4
   \   000000BC   0x7008             STRB     R0,[R1, #+0]
     96                      }
     97                  }
     98              }
     99          }
   \                     ??Horizon_Off_4: (+1)
   \   000000BE   0xBD01             POP      {R0,PC}          ;; return

   \                                 In section .bss, align 1
   \                     `Horizon_Off::sc_center_flag`:
   \   00000000                      DS8 1
    100          

   \                                 In section .text, align 2, keep-with-next
    101          void Ultra_Back()
    102          {
   \                     Ultra_Back: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    103              if(guc_car_run_flag == CAR_RUN)
   \   00000002   0x....             LDR.N    R0,??DataTable4_2
   \   00000004   0x7800             LDRB     R0,[R0, #+0]
   \   00000006   0x2801             CMP      R0,#+1
   \   00000008   0xD119             BNE.N    ??Ultra_Back_0
    104              {
    105                  if(guc_beacon_directional_y == BACK)
   \   0000000A   0x....             LDR.N    R0,??DataTable4_7
   \   0000000C   0x7800             LDRB     R0,[R0, #+0]
   \   0000000E   0x2801             CMP      R0,#+1
   \   00000010   0xD113             BNE.N    ??Ultra_Back_1
    106                  {
    107                      if(guc_beacon_directional_x == LEFT)
   \   00000012   0x....             LDR.N    R0,??DataTable4_4
   \   00000014   0x7800             LDRB     R0,[R0, #+0]
   \   00000016   0x2801             CMP      R0,#+1
   \   00000018   0xD104             BNE.N    ??Ultra_Back_2
    108                      {
    109                          Change_PWM_Servo(590);
   \   0000001A   0xF240 0x204E      MOVW     R0,#+590
   \   0000001E   0x.... 0x....      BL       Change_PWM_Servo
   \   00000022   0xE007             B.N      ??Ultra_Back_3
    110                      }
    111                      else if(guc_beacon_directional_x == RIGHT)
   \                     ??Ultra_Back_2: (+1)
   \   00000024   0x....             LDR.N    R0,??DataTable4_4
   \   00000026   0x7800             LDRB     R0,[R0, #+0]
   \   00000028   0x2802             CMP      R0,#+2
   \   0000002A   0xD103             BNE.N    ??Ultra_Back_3
    112                      {
    113                          Change_PWM_Servo(450);
   \   0000002C   0xF44F 0x70E1      MOV      R0,#+450
   \   00000030   0x.... 0x....      BL       Change_PWM_Servo
    114                      }
    115                      Beep_On();
   \                     ??Ultra_Back_3: (+1)
   \   00000034   0x.... 0x....      BL       Beep_On
   \   00000038   0xE001             B.N      ??Ultra_Back_0
    116                  }
    117                  else
    118                      Beep_Off();
   \                     ??Ultra_Back_1: (+1)
   \   0000003A   0x.... 0x....      BL       Beep_Off
    119              }
    120          }
   \                     ??Ultra_Back_0: (+1)
   \   0000003E   0xBD01             POP      {R0,PC}          ;; return
    121          
    122          /*===============================================================
    123          	@brief     红外避障，紧急输出
    124          	@function  当检测距离小于一定值时进行紧急打角，打角方向与切灯方向相同
    125                  @note      不使用红外避障：1.失去视野时
    126                                             2.与信标距离较近时（根据测距模块或信标面积）
    127          ==================================================================*/
    128          

   \                                 In section .text, align 2, keep-with-next
    129          void Barrier_TELE_Avoid()
    130          {   
   \                     Barrier_TELE_Avoid: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    131              if(guc_car_run_flag == CAR_RUN)
   \   00000002   0x....             LDR.N    R0,??DataTable4_2
   \   00000004   0x7800             LDRB     R0,[R0, #+0]
   \   00000006   0x2801             CMP      R0,#+1
   \   00000008   0xD12C             BNE.N    ??Barrier_TELE_Avoid_0
    132              {
    133          //        if(guc_find_image_flag != NOT_FOUND_IMAGE)
    134              
    135                  if(gi_image_area_ave <= 15)
   \   0000000A   0x....             LDR.N    R0,??DataTable4_8
   \   0000000C   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \   00000010   0x2810             CMP      R0,#+16
   \   00000012   0xDA22             BGE.N    ??Barrier_TELE_Avoid_1
    136                  {
    137                     if(gc_tele_barrier_count > 2)
   \   00000014   0x....             LDR.N    R0,??DataTable4_9
   \   00000016   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   0000001A   0x2803             CMP      R0,#+3
   \   0000001C   0xDB17             BLT.N    ??Barrier_TELE_Avoid_2
    138                      {
    139                          gc_tele_barrier_count = 3;
   \   0000001E   0x2003             MOVS     R0,#+3
   \   00000020   0x....             LDR.N    R1,??DataTable4_9
   \   00000022   0x7008             STRB     R0,[R1, #+0]
    140                          if(guc_center_flag == LEFT)
   \   00000024   0x....             LDR.N    R0,??DataTable4_5
   \   00000026   0x7800             LDRB     R0,[R0, #+0]
   \   00000028   0x2801             CMP      R0,#+1
   \   0000002A   0xD103             BNE.N    ??Barrier_TELE_Avoid_3
    141                          {
    142                              Sevro_Output(75);
   \   0000002C   0x204B             MOVS     R0,#+75
   \   0000002E   0x.... 0x....      BL       Sevro_Output
   \   00000032   0xE007             B.N      ??Barrier_TELE_Avoid_4
    143                          }
    144                          else if(guc_center_flag == RIGHT)
   \                     ??Barrier_TELE_Avoid_3: (+1)
   \   00000034   0x....             LDR.N    R0,??DataTable4_5
   \   00000036   0x7800             LDRB     R0,[R0, #+0]
   \   00000038   0x2802             CMP      R0,#+2
   \   0000003A   0xD103             BNE.N    ??Barrier_TELE_Avoid_4
    145                          {
    146                              Sevro_Output(-75);
   \   0000003C   0xF07F 0x004A      MVNS     R0,#+74
   \   00000040   0x.... 0x....      BL       Sevro_Output
    147                          }
    148                          Beep_On();
   \                     ??Barrier_TELE_Avoid_4: (+1)
   \   00000044   0x.... 0x....      BL       Beep_On
    149                          sc_barrier_flag = 1;
   \   00000048   0x2001             MOVS     R0,#+1
   \   0000004A   0x....             LDR.N    R1,??DataTable4_10
   \   0000004C   0x7008             STRB     R0,[R1, #+0]
    150                      }
    151                      Beep_Off();
   \                     ??Barrier_TELE_Avoid_2: (+1)
   \   0000004E   0x.... 0x....      BL       Beep_Off
    152                      sc_barrier_flag = 0;
   \   00000052   0x2000             MOVS     R0,#+0
   \   00000054   0x....             LDR.N    R1,??DataTable4_10
   \   00000056   0x7008             STRB     R0,[R1, #+0]
   \   00000058   0xE004             B.N      ??Barrier_TELE_Avoid_0
    153                  } 
    154                  else
    155                  {
    156                      Beep_Off();
   \                     ??Barrier_TELE_Avoid_1: (+1)
   \   0000005A   0x.... 0x....      BL       Beep_Off
    157                      //Direction_Control();
    158                      sc_barrier_flag = 0;
   \   0000005E   0x2000             MOVS     R0,#+0
   \   00000060   0x....             LDR.N    R1,??DataTable4_10
   \   00000062   0x7008             STRB     R0,[R1, #+0]
    159                  }
    160              }    
    161          }
   \                     ??Barrier_TELE_Avoid_0: (+1)
   \   00000064   0xBD01             POP      {R0,PC}          ;; return
    162          
    163          /*===============================================================
    164          	@brief     倒车程序
    165          	@function  前期防止撞墙，撞灯基本不会，后期防撞车
    166          ==================================================================*/
    167          

   \                                 In section .text, align 2, keep-with-next
    168          void Car_Back()
    169          {
   \                     Car_Back: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    170              static int8 sc_speed_back_count = 0;//倒车检测时间计数
    171              static int8 sc_car_back_flag = 0;//倒车启动标志位
    172              static uint32 si_speed_back_start = 0;//倒车检测起始时间
    173              static uint32 si_speed_back_end = 0;//倒车检测结束时间
    174              static uint32 si_back_count_start = 0;//倒车开始时间
    175              static uint32 si_back_count_end = 0;//结束倒车时间
    176              static uint32 si_car_back_count = 0;//倒车时间计数
    177              static uint32 si_restart_start = 0;//重启开始时间，作为缓冲，保护电机
    178              static uint32 si_restart_count = 0;//重启时间计数
    179              static uint32 sui_start_delay = 0;//发车后倒车开启延时
    180              
    181              sui_start_delay = gul_time_100us - gul_time_start;
   \   00000002   0x....             LDR.N    R0,??DataTable4_11
   \   00000004   0x6800             LDR      R0,[R0, #+0]
   \   00000006   0x....             LDR.N    R1,??DataTable4_12
   \   00000008   0x6809             LDR      R1,[R1, #+0]
   \   0000000A   0x1A40             SUBS     R0,R0,R1
   \   0000000C   0x....             LDR.N    R1,??DataTable4_13
   \   0000000E   0x6008             STR      R0,[R1, #+0]
    182              
    183              if((guc_car_run_flag == CAR_RUN) && (sui_start_delay >= 30000))//发车十秒后检测碰撞
   \   00000010   0x....             LDR.N    R0,??DataTable4_2
   \   00000012   0x7800             LDRB     R0,[R0, #+0]
   \   00000014   0x2801             CMP      R0,#+1
   \   00000016   0xF040 0x80A6      BNE.W    ??Car_Back_0
   \   0000001A   0x....             LDR.N    R0,??DataTable4_13
   \   0000001C   0x6800             LDR      R0,[R0, #+0]
   \   0000001E   0xF247 0x5130      MOVW     R1,#+30000
   \   00000022   0x4288             CMP      R0,R1
   \   00000024   0xF0C0 0x809F      BCC.W    ??Car_Back_0
    184              {
    185                  if(sc_car_back_flag == 0)
   \   00000028   0x....             LDR.N    R0,??DataTable4_14
   \   0000002A   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   0000002E   0x2800             CMP      R0,#+0
   \   00000030   0xD16E             BNE.N    ??Car_Back_1
    186                  {
    187                      si_restart_count = gul_time_100us - si_restart_start;
   \   00000032   0x....             LDR.N    R0,??DataTable4_11
   \   00000034   0x6800             LDR      R0,[R0, #+0]
   \   00000036   0x....             LDR.N    R1,??DataTable4_15
   \   00000038   0x6809             LDR      R1,[R1, #+0]
   \   0000003A   0x1A40             SUBS     R0,R0,R1
   \   0000003C   0x....             LDR.N    R1,??DataTable4_16
   \   0000003E   0x6008             STR      R0,[R1, #+0]
    188                      
    189                      if(si_restart_count > 2000)//重新检测延时，防止低速连续启动倒车
   \   00000040   0x....             LDR.N    R0,??DataTable4_16
   \   00000042   0x6800             LDR      R0,[R0, #+0]
   \   00000044   0xF5B0 0x6FFA      CMP      R0,#+2000
   \   00000048   0xD962             BLS.N    ??Car_Back_1
    190                      {
    191                          if((gl_car_speed < 20) || (gi_left_speed < 10) || (gi_right_speed < 10))
   \   0000004A   0x....             LDR.N    R0,??DataTable4_17
   \   0000004C   0x6800             LDR      R0,[R0, #+0]
   \   0000004E   0x2814             CMP      R0,#+20
   \   00000050   0xDB09             BLT.N    ??Car_Back_2
   \   00000052   0x....             LDR.N    R0,??DataTable4_18
   \   00000054   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \   00000058   0x280A             CMP      R0,#+10
   \   0000005A   0xDB04             BLT.N    ??Car_Back_2
   \   0000005C   0x....             LDR.N    R0,??DataTable4_19
   \   0000005E   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \   00000062   0x280A             CMP      R0,#+10
   \   00000064   0xDA54             BGE.N    ??Car_Back_1
    192                          {
    193                              if(sc_speed_back_count == 0)
   \                     ??Car_Back_2: (+1)
   \   00000066   0x....             LDR.N    R0,??DataTable4_20
   \   00000068   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   0000006C   0x2800             CMP      R0,#+0
   \   0000006E   0xD103             BNE.N    ??Car_Back_3
    194                              {
    195                                  si_speed_back_start = gul_time_100us;
   \   00000070   0x....             LDR.N    R0,??DataTable4_11
   \   00000072   0x6800             LDR      R0,[R0, #+0]
   \   00000074   0x....             LDR.N    R1,??DataTable4_21
   \   00000076   0x6008             STR      R0,[R1, #+0]
    196                              }
    197                              
    198                              sc_speed_back_count++;
   \                     ??Car_Back_3: (+1)
   \   00000078   0x....             LDR.N    R0,??DataTable4_20
   \   0000007A   0x7800             LDRB     R0,[R0, #+0]
   \   0000007C   0x1C40             ADDS     R0,R0,#+1
   \   0000007E   0x....             LDR.N    R1,??DataTable4_20
   \   00000080   0x7008             STRB     R0,[R1, #+0]
    199          
    200                              si_speed_back_end = gul_time_100us - si_speed_back_start;
   \   00000082   0x....             LDR.N    R0,??DataTable4_11
   \   00000084   0x6800             LDR      R0,[R0, #+0]
   \   00000086   0x....             LDR.N    R1,??DataTable4_21
   \   00000088   0x6809             LDR      R1,[R1, #+0]
   \   0000008A   0x1A40             SUBS     R0,R0,R1
   \   0000008C   0x....             LDR.N    R1,??DataTable4_22
   \   0000008E   0x6008             STR      R0,[R1, #+0]
    201                              
    202                              if(si_speed_back_end > 3000)//0.4s
   \   00000090   0x....             LDR.N    R0,??DataTable4_22
   \   00000092   0x6800             LDR      R0,[R0, #+0]
   \   00000094   0xF640 0x31B9      MOVW     R1,#+3001
   \   00000098   0x4288             CMP      R0,R1
   \   0000009A   0xD337             BCC.N    ??Car_Back_4
    203                              {
    204                                  Beep_On();
   \   0000009C   0x.... 0x....      BL       Beep_On
    205                                  if(sc_speed_back_count > 10)
   \   000000A0   0x....             LDR.N    R0,??DataTable4_20
   \   000000A2   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   000000A6   0x280B             CMP      R0,#+11
   \   000000A8   0xDB2D             BLT.N    ??Car_Back_5
    206                                  {
    207                                      sc_speed_back_count = 0;
   \   000000AA   0x2000             MOVS     R0,#+0
   \   000000AC   0x....             LDR.N    R1,??DataTable4_20
   \   000000AE   0x7008             STRB     R0,[R1, #+0]
    208                                      sc_car_back_flag = 1;
   \   000000B0   0x2001             MOVS     R0,#+1
   \   000000B2   0x....             LDR.N    R1,??DataTable4_14
   \   000000B4   0x7008             STRB     R0,[R1, #+0]
    209                                      
    210                                      //Beep_On();
    211                                      
    212                                      PIT_ONE_Disable(PIT_1_INIT);
   \   000000B6   0x2001             MOVS     R0,#+1
   \   000000B8   0x.... 0x....      BL       PIT_ONE_Disable
    213                                      
    214                                      if(guc_beacon_directional_x == LEFT)
   \   000000BC   0x....             LDR.N    R0,??DataTable4_4
   \   000000BE   0x7800             LDRB     R0,[R0, #+0]
   \   000000C0   0x2801             CMP      R0,#+1
   \   000000C2   0xD10B             BNE.N    ??Car_Back_6
    215                                      {
    216                                          gi_image_err = 25;
   \   000000C4   0x2019             MOVS     R0,#+25
   \   000000C6   0x....             LDR.N    R1,??DataTable4_23
   \   000000C8   0x8008             STRH     R0,[R1, #+0]
    217                                          Set_Motor_PWM(-6000, LEFT_MOTOR);            
   \   000000CA   0x2100             MOVS     R1,#+0
   \   000000CC   0x....             LDR.N    R0,??DataTable4_24  ;; 0xffffe890
   \   000000CE   0x.... 0x....      BL       Set_Motor_PWM
    218                                          Set_Motor_PWM(-6000, RIGHT_MOTOR); 
   \   000000D2   0x2101             MOVS     R1,#+1
   \   000000D4   0x....             LDR.N    R0,??DataTable4_24  ;; 0xffffe890
   \   000000D6   0x.... 0x....      BL       Set_Motor_PWM
   \   000000DA   0xE00F             B.N      ??Car_Back_7
    219                                      }
    220                                      else if(guc_beacon_directional_x == RIGHT)
   \                     ??Car_Back_6: (+1)
   \   000000DC   0x....             LDR.N    R0,??DataTable4_4
   \   000000DE   0x7800             LDRB     R0,[R0, #+0]
   \   000000E0   0x2802             CMP      R0,#+2
   \   000000E2   0xD10B             BNE.N    ??Car_Back_7
    221                                      {
    222                                          gi_image_err =  -25;
   \   000000E4   0xF07F 0x0018      MVNS     R0,#+24
   \   000000E8   0x....             LDR.N    R1,??DataTable4_23
   \   000000EA   0x8008             STRH     R0,[R1, #+0]
    223                                          Set_Motor_PWM(-6000, LEFT_MOTOR);
   \   000000EC   0x2100             MOVS     R1,#+0
   \   000000EE   0x....             LDR.N    R0,??DataTable4_24  ;; 0xffffe890
   \   000000F0   0x.... 0x....      BL       Set_Motor_PWM
    224                                          Set_Motor_PWM(-6000, RIGHT_MOTOR); 
   \   000000F4   0x2101             MOVS     R1,#+1
   \   000000F6   0x....             LDR.N    R0,??DataTable4_24  ;; 0xffffe890
   \   000000F8   0x.... 0x....      BL       Set_Motor_PWM
    225                                      }
    226                                      
    227                                      si_back_count_start = gul_time_100us;
   \                     ??Car_Back_7: (+1)
   \   000000FC   0x....             LDR.N    R0,??DataTable4_11
   \   000000FE   0x6800             LDR      R0,[R0, #+0]
   \   00000100   0x....             LDR.N    R1,??DataTable4_25
   \   00000102   0x6008             STR      R0,[R1, #+0]
   \   00000104   0xE002             B.N      ??Car_Back_4
    228                                  }
    229                                  else
    230                                  {
    231                                      sc_speed_back_count = 0;
   \                     ??Car_Back_5: (+1)
   \   00000106   0x2000             MOVS     R0,#+0
   \   00000108   0x....             LDR.N    R1,??DataTable4_20
   \   0000010A   0x7008             STRB     R0,[R1, #+0]
    232                                  }
    233                              } 
    234                              Beep_Off();
   \                     ??Car_Back_4: (+1)
   \   0000010C   0x.... 0x....      BL       Beep_Off
    235                          }          
    236                      }
    237                  }
    238                  if(sc_car_back_flag == 1)
   \                     ??Car_Back_1: (+1)
   \   00000110   0x....             LDR.N    R0,??DataTable4_14
   \   00000112   0xF990 0x0000      LDRSB    R0,[R0, #+0]
   \   00000116   0x2801             CMP      R0,#+1
   \   00000118   0xD125             BNE.N    ??Car_Back_0
    239                  {
    240                      si_back_count_end = gul_time_100us;
   \   0000011A   0x....             LDR.N    R0,??DataTable4_11
   \   0000011C   0x6800             LDR      R0,[R0, #+0]
   \   0000011E   0x....             LDR.N    R1,??DataTable4_26
   \   00000120   0x6008             STR      R0,[R1, #+0]
    241                      si_car_back_count = si_back_count_end - si_back_count_start;
   \   00000122   0x....             LDR.N    R0,??DataTable4_26
   \   00000124   0x6800             LDR      R0,[R0, #+0]
   \   00000126   0x....             LDR.N    R1,??DataTable4_25
   \   00000128   0x6809             LDR      R1,[R1, #+0]
   \   0000012A   0x1A40             SUBS     R0,R0,R1
   \   0000012C   0x....             LDR.N    R1,??DataTable4_27
   \   0000012E   0x6008             STR      R0,[R1, #+0]
    242                      
    243                      if(si_car_back_count > 12000)//倒车2.5s
   \   00000130   0x....             LDR.N    R0,??DataTable4_27
   \   00000132   0x6800             LDR      R0,[R0, #+0]
   \   00000134   0xF642 0x61E1      MOVW     R1,#+12001
   \   00000138   0x4288             CMP      R0,R1
   \   0000013A   0xD314             BCC.N    ??Car_Back_0
    244                      {
    245                          si_restart_start = gul_time_100us;
   \   0000013C   0x....             LDR.N    R0,??DataTable4_11
   \   0000013E   0x6800             LDR      R0,[R0, #+0]
   \   00000140   0x....             LDR.N    R1,??DataTable4_15
   \   00000142   0x6008             STR      R0,[R1, #+0]
    246                          si_car_back_count = 0;
   \   00000144   0x2000             MOVS     R0,#+0
   \   00000146   0x....             LDR.N    R1,??DataTable4_27
   \   00000148   0x6008             STR      R0,[R1, #+0]
    247                          sc_car_back_flag = 0;
   \   0000014A   0x2000             MOVS     R0,#+0
   \   0000014C   0x....             LDR.N    R1,??DataTable4_14
   \   0000014E   0x7008             STRB     R0,[R1, #+0]
    248                          Set_Motor_PWM(0, LEFT_MOTOR);            
   \   00000150   0x2100             MOVS     R1,#+0
   \   00000152   0x2000             MOVS     R0,#+0
   \   00000154   0x.... 0x....      BL       Set_Motor_PWM
    249                          Set_Motor_PWM(0, RIGHT_MOTOR);
   \   00000158   0x2101             MOVS     R1,#+1
   \   0000015A   0x2000             MOVS     R0,#+0
   \   0000015C   0x.... 0x....      BL       Set_Motor_PWM
    250                          PIT_ONE_Enable(PIT_1_INIT);
   \   00000160   0x2001             MOVS     R0,#+1
   \   00000162   0x.... 0x....      BL       PIT_ONE_Enable
    251                          //Beep_Off();
    252                      }
    253                  }      
    254              } 
    255          }
   \                     ??Car_Back_0: (+1)
   \   00000166   0xBD01             POP      {R0,PC}          ;; return

   \                                 In section .bss, align 1
   \                     `Car_Back::sc_speed_back_count`:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
   \                     `Car_Back::sc_car_back_flag`:
   \   00000000                      DS8 1

   \                                 In section .bss, align 4
   \                     `Car_Back::si_speed_back_start`:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     `Car_Back::si_speed_back_end`:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     `Car_Back::si_back_count_start`:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     `Car_Back::si_back_count_end`:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     `Car_Back::si_car_back_count`:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     `Car_Back::si_restart_start`:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     `Car_Back::si_restart_count`:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     `Car_Back::sui_start_delay`:
   \   00000000                      DS8 4

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   0x........         DC32     sc_horizon_flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_1:
   \   00000000   0x........         DC32     guc_switch_pin_val

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_2:
   \   00000000   0x........         DC32     guc_car_run_flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_3:
   \   00000000   0x........         DC32     guc_find_image_flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_4:
   \   00000000   0x........         DC32     guc_beacon_directional_x

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_5:
   \   00000000   0x........         DC32     guc_center_flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_6:
   \   00000000   0x........         DC32     `Horizon_Off::sc_center_flag`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_7:
   \   00000000   0x........         DC32     guc_beacon_directional_y

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_8:
   \   00000000   0x........         DC32     gi_image_area_ave

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_9:
   \   00000000   0x........         DC32     gc_tele_barrier_count

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_10:
   \   00000000   0x........         DC32     sc_barrier_flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_11:
   \   00000000   0x........         DC32     gul_time_100us

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_12:
   \   00000000   0x........         DC32     gul_time_start

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_13:
   \   00000000   0x........         DC32     `Car_Back::sui_start_delay`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_14:
   \   00000000   0x........         DC32     `Car_Back::sc_car_back_flag`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_15:
   \   00000000   0x........         DC32     `Car_Back::si_restart_start`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_16:
   \   00000000   0x........         DC32     `Car_Back::si_restart_count`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_17:
   \   00000000   0x........         DC32     gl_car_speed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_18:
   \   00000000   0x........         DC32     gi_left_speed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_19:
   \   00000000   0x........         DC32     gi_right_speed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_20:
   \   00000000   0x........         DC32     `Car_Back::sc_speed_back_count`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_21:
   \   00000000   0x........         DC32     `Car_Back::si_speed_back_start`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_22:
   \   00000000   0x........         DC32     `Car_Back::si_speed_back_end`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_23:
   \   00000000   0x........         DC32     gi_image_err

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_24:
   \   00000000   0xFFFFE890         DC32     0xffffe890

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_25:
   \   00000000   0x........         DC32     `Car_Back::si_back_count_start`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_26:
   \   00000000   0x........         DC32     `Car_Back::si_back_count_end`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_27:
   \   00000000   0x........         DC32     `Car_Back::si_car_back_count`

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   Barrier_TELE_Avoid
         8   -> Beep_Off
         8   -> Beep_On
         8   -> Sevro_Output
       8   Car_Back
         8   -> Beep_Off
         8   -> Beep_On
         8   -> PIT_ONE_Disable
         8   -> PIT_ONE_Enable
         8   -> Set_Motor_PWM
       8   Horizon_Off
         8   -> Beep_Off
         8   -> Beep_On
         8   -> Sevro_Output
       8   Route_Planning
         8   -> Car_Back
         8   -> Direction_Control
         8   -> Horizon_Off
       8   Ultra_Back
         8   -> Beep_Off
         8   -> Beep_On
         8   -> Change_PWM_Servo


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable4
       4  ??DataTable4_1
       4  ??DataTable4_10
       4  ??DataTable4_11
       4  ??DataTable4_12
       4  ??DataTable4_13
       4  ??DataTable4_14
       4  ??DataTable4_15
       4  ??DataTable4_16
       4  ??DataTable4_17
       4  ??DataTable4_18
       4  ??DataTable4_19
       4  ??DataTable4_2
       4  ??DataTable4_20
       4  ??DataTable4_21
       4  ??DataTable4_22
       4  ??DataTable4_23
       4  ??DataTable4_24
       4  ??DataTable4_25
       4  ??DataTable4_26
       4  ??DataTable4_27
       4  ??DataTable4_3
       4  ??DataTable4_4
       4  ??DataTable4_5
       4  ??DataTable4_6
       4  ??DataTable4_7
       4  ??DataTable4_8
       4  ??DataTable4_9
     102  Barrier_TELE_Avoid
     360  Car_Back
     192  Horizon_Off
      26  Route_Planning
      64  Ultra_Back
       1  sc_barrier_flag
       1  sc_car_back_flag
       1  sc_center_flag
       1  sc_horizon_flag
       1  sc_speed_back_count
       4  si_back_count_end
       4  si_back_count_start
       4  si_car_back_count
       4  si_restart_count
       4  si_restart_start
       4  si_speed_back_end
       4  si_speed_back_start
       4  sui_start_delay

 
  37 bytes in section .bss
 856 bytes in section .text
 
 856 bytes of CODE memory
  37 bytes of DATA memory

Errors: none
Warnings: 1
